install.packages(c('stats','zoo','lubridate','ggplot2','viridis','ggthemes'), repos='https://cloud.r-project.org/', dependencies = TRUE);
install.packages(c("stats", "zoo", "lubridate", "ggplot2", "viridis", "ggthemes"), repos = "https://cloud.r-project.org/", dependencies = TRUE)
install.packages(c("stats", "zoo", "lubridate", "ggplot2", "viridis", "ggthemes"), repos = "https://cloud.r-project.org/", dependencies = TRUE)
install.packages(c("stats", "zoo", "lubridate", "ggplot2", "viridis", "ggthemes"), repos = "https://cloud.r-project.org/", dependencies = TRUE)
install.packages(c("stats", "zoo", "lubridate", "ggplot2", "viridis", "ggthemes"), repos = "https://cloud.r-project.org/", dependencies = TRUE)
install.packages(c("stats", "zoo", "lubridate", "ggplot2", "viridis", "ggthemes"), repos = "https://cloud.r-project.org/", dependencies = TRUE)
install.packages(c("stats", "zoo", "lubridate", "ggplot2", "viridis", "ggthemes"), repos = "https://cloud.r-project.org/", dependencies = TRUE)
# load the stats library
require(stats)
# display nottem time-series
# nottem is a time-series of Average Monthly Temperatures At Nottingham, 1920--1939
nottem
# plot the time-series
plot.ts(nottem)
# load the zoo library (for as.yearmon)
require(zoo)
# load the zoo library (for as.yearmon)
require(zoo)
# create data frame from the time-series
d <- data.frame(Temp=as.matrix(nottem), Time=as.yearmon(time(nottem)))
# load lubridate
require(lubridate)
# load lubridate
require(lubridate)
# extract year and month from Time of the data frame
d$Year <- year(d$Time)
d$Month <- month(d$Time, label=T, abbr=T)
# load the plotting libraries
require(ggplot2)
# load the plotting libraries
require(ggplot2)
# plot a heatmap
ggplot(data = d, aes(x=Year,y=Month)) + geom_tile(aes(fill=Temp))
# load viridis library to enhance the plot colors
require(viridis)
# load viridis library to enhance the plot colors
require(viridis)
# plot a heatmap with better color schema
ggplot(data = d, aes(x=Year,y=Month)) + geom_tile(aes(fill=Temp)) +
scale_fill_viridis()
# load themes library for ggplot2
require(ggthemes)
# load themes library for ggplot2
require(ggthemes)
# plot the heatmap
ggplot(data = d, aes(x=Year,y=Month)) + geom_tile(aes(fill=Temp)) +
scale_fill_viridis() +
scale_x_continuous( expand=c(0,0)) +
coord_equal(ratio = 1) +
theme_tufte(base_family="Helvetica")
ggplot(data = d, aes(x=Year,y=Month)) + geom_tile(aes(fill=Temp)) +
scale_fill_viridis(option="magma") +
scale_x_continuous( expand=c(0,0)) +
coord_equal(ratio = 1) +
theme_tufte(base_family="Helvetica")
# setwd("M:/ME/PhD/paper_1/Sites/data/")
setwd("/home/melans/servers/z/home/phd/paper_1")
mrmse <- function(o,m){sqrt(mean((o-m)^2));}
data=read.csv('08194500.all', header = FALSE, sep=" ");
# setwd("M:/ME/PhD/paper_1/Sites/data/")
setwd("/home/melans/servers/z/home/phd/paper_1")
mrmse <- function(o,m){sqrt(mean((o-m)^2));}
data=read.csv('08194500.all', header = FALSE, sep=" ");
# setwd("M:/ME/PhD/paper_1/Sites/data/")
setwd("/home/melans/servers/z/home/phd/paper_1/Sites/data/")
mrmse <- function(o,m){sqrt(mean((o-m)^2));}
data=read.csv('08194500.all', header = FALSE, sep=" ");
colnames(data) <- c("Year","Month","Leadtime","Observed","Climatology","CFSv2","ECHAM4p5")
l <- 1
m <- 02
# for(s in ){
for(l in 1:4){
for(m in 01:12){
# data$Observed[(data$Month==m) & (data$Leadtime==l)]
o <- data$Observed[data$Month==m & data$Leadtime==l]
m1 <- data$CFSv2[data$Month==m & data$Leadtime==l]
m2 <- data$ECHAM4p5[data$Month==m & data$Leadtime==l]
m3 <- data$Climatology[data$Month==m & data$Leadtime==l]
r1 <- mrmse(o,m1)^-1
r2 <- mrmse(o,m2)^-1
r3 <- mrmse(o,m3)^-1
r0 <- r1+r2+r3;
w1 <- r1/r0
w2 <- r2/r0
w3 <- r3/r0
comb <- m1*w1 + m2*w2 + m3*w3
print(paste(data$Year[data$Month==m & data$Leadtime==l], data$Month[data$Month==m & data$Leadtime==l], data$Leadtime[data$Month==m & data$Leadtime==l], o, m1, m1*w1, m2, m2*w2, m3, m3*w3, comb))
}
}
for(s in c(08080500,08085500,08151500,08194500)){
print s;}
m <- 02
for(s in c(08080500,08085500,08151500,08194500)){
s;}
m <- 02
for(s in c(08080500,08085500,08151500,08194500)){
print(s);}
m <- 02
for(s in c(08080500,08085500,08151500,08194500)){
print(paste0(s,'.all'));}
m <- 02
for(s in c(08080500,08085500,08151500,08194500)){
m <- 02
for(s in c(08080500,08085500,08151500,08194500)){
# print(paste0(s,'.all'));}
data=read.csv(paste0(s,'.all'), header = FALSE, sep=" ");
colnames(data) <- c("Year","Month","Leadtime","Observed","Climatology","CFSv2","ECHAM4p5")
for(l in 1:4){
for(m in 01:12){
# data$Observed[(data$Month==m) & (data$Leadtime==l)]
o <- data$Observed[data$Month==m & data$Leadtime==l]
m1 <- data$CFSv2[data$Month==m & data$Leadtime==l]
m2 <- data$ECHAM4p5[data$Month==m & data$Leadtime==l]
m3 <- data$Climatology[data$Month==m & data$Leadtime==l]
r1 <- mrmse(o,m1)^-1
r2 <- mrmse(o,m2)^-1
r3 <- mrmse(o,m3)^-1
r0 <- r1+r2+r3;
w1 <- r1/r0
w2 <- r2/r0
w3 <- r3/r0
comb <- m1*w1 + m2*w2 + m3*w3
print(paste(data$Year[data$Month==m & data$Leadtime==l], data$Month[data$Month==m & data$Leadtime==l], data$Leadtime[data$Month==m & data$Leadtime==l], o, m1, m1*w1, m2, m2*w2, m3, m3*w3, comb))
}
}
}
# setwd("M:/ME/PhD/paper_1/Sites/data/")
setwd("/home/melans/servers/z/home/phd/paper_1/Sites/data/")
mrmse <- function(o,m){sqrt(mean((o-m)^2));}
;
{}
}
# setwd("M:/ME/PhD/paper_1/Sites/data/")
setwd("/home/melans/servers/z/home/phd/paper_1/Sites/data/")
mrmse <- function(o,m){sqrt(mean((o-m)^2));}
l <- 1
m <- 02
for(s in c(08080500,08085500,08151500,08194500)){
# print(paste0(s,'.all'));}
data=read.csv(paste0(s,'.all'), header = FALSE, sep=" ");
colnames(data) <- c("Year","Month","Leadtime","Observed","Climatology","CFSv2","ECHAM4p5")
for(l in 1:4){
for(m in 01:12){
# data$Observed[(data$Month==m) & (data$Leadtime==l)]
o <- data$Observed[data$Month==m & data$Leadtime==l]
m1 <- data$CFSv2[data$Month==m & data$Leadtime==l]
m2 <- data$ECHAM4p5[data$Month==m & data$Leadtime==l]
m3 <- data$Climatology[data$Month==m & data$Leadtime==l]
r1 <- mrmse(o,m1)^-1
r2 <- mrmse(o,m2)^-1
r3 <- mrmse(o,m3)^-1
r0 <- r1+r2+r3;
w1 <- r1/r0
w2 <- r2/r0
w3 <- r3/r0
comb <- m1*w1 + m2*w2 + m3*w3
print(paste(data$Year[data$Month==m & data$Leadtime==l], data$Month[data$Month==m & data$Leadtime==l], data$Leadtime[data$Month==m & data$Leadtime==l], o, m1, m1*w1, m2, m2*w2, m3, m3*w3, comb))
}
}
}
s <- '08194500'
# print(paste0(s,'.all'));}
data=read.csv(paste0(s,'.all'), header = FALSE, sep=" ");
colnames(data) <- c("Year","Month","Leadtime","Observed","Climatology","CFSv2","ECHAM4p5")
for(l in 1:4){
for(m in 01:12){
# data$Observed[(data$Month==m) & (data$Leadtime==l)]
o <- data$Observed[data$Month==m & data$Leadtime==l]
m1 <- data$CFSv2[data$Month==m & data$Leadtime==l]
m2 <- data$ECHAM4p5[data$Month==m & data$Leadtime==l]
m3 <- data$Climatology[data$Month==m & data$Leadtime==l]
r1 <- mrmse(o,m1)^-1
r2 <- mrmse(o,m2)^-1
r3 <- mrmse(o,m3)^-1
r0 <- r1+r2+r3;
w1 <- r1/r0
w2 <- r2/r0
w3 <- r3/r0
comb <- m1*w1 + m2*w2 + m3*w3
print(paste(data$Year[data$Month==m & data$Leadtime==l], data$Month[data$Month==m & data$Leadtime==l], data$Leadtime[data$Month==m & data$Leadtime==l], o, m1, m1*w1, m2, m2*w2, m3, m3*w3, comb))
}
}
# setwd("M:/ME/PhD/paper_1/Sites/data/")
setwd("/home/melans/servers/z/home/phd/paper_1/Sites/data/")
mrmse <- function(o,m){sqrt(mean((o-m)^2));}
l <- 1
m <- 02
s <- '08194500'
for(s in c('08080500','08085500','08151500','08194500')){
# print(paste0(s,'.all'));}
data=read.csv(paste0(s,'.all'), header = FALSE, sep=" ");
colnames(data) <- c("Year","Month","Leadtime","Observed","Climatology","CFSv2","ECHAM4p5")
for(l in 1:4){
for(m in 01:12){
# data$Observed[(data$Month==m) & (data$Leadtime==l)]
o <- data$Observed[data$Month==m & data$Leadtime==l]
m1 <- data$CFSv2[data$Month==m & data$Leadtime==l]
m2 <- data$ECHAM4p5[data$Month==m & data$Leadtime==l]
m3 <- data$Climatology[data$Month==m & data$Leadtime==l]
r1 <- mrmse(o,m1)^-1
r2 <- mrmse(o,m2)^-1
r3 <- mrmse(o,m3)^-1
r0 <- r1+r2+r3;
w1 <- r1/r0
w2 <- r2/r0
w3 <- r3/r0
comb <- m1*w1 + m2*w2 + m3*w3
print(paste(data$Year[data$Month==m & data$Leadtime==l], data$Month[data$Month==m & data$Leadtime==l], data$Leadtime[data$Month==m & data$Leadtime==l], o, m1, m1*w1, m2, m2*w2, m3, m3*w3, comb))
}
}
}
